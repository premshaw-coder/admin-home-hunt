<div class="px-40 flex flex-1 justify-center items-center py-5">
    <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
        <div class="flex flex-wrap justify-between gap-3 p-4">
            <div class="flex min-w-72 flex-col gap-3">
                <p class="text-[#0c151d] tracking-light text-[32px] font-bold leading-tight">Choose your plan</p>
                <p class="text-[#4574a1] text-sm font-normal leading-normal">Select a plan that fits your needs. You can
                    upgrade or
                    downgrade at any time.</p>
            </div>
        </div>
        <div class="flex px-4 py-3">
            <div class="flex h-10 flex-1 items-center justify-center rounded-xl bg-[#ffffff] p-1">
                @for (subscriptionPlanDuration of subscriptionPlanDurations; let index=$index; track $index) {
                <label
                    class="flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-xl px-2 has-[:checked]:bg-[#3b9aed] has-[:checked]:shadow-[0_0_4px_rgba(0,0,0,0.1)] has-[:checked]:text-white text-[#9aaec1] text-sm font-medium leading-normal">
                    <span class="truncate">{{subscriptionPlanDuration}}</span>
                    <input type="radio" name="0c06aa5c-ce51-441a-abd9-cf606416bf2c" class="invisible w-0"
                        value="{{subscriptionPlanDuration}}" [checked]="index === 0"
                        (click)="chooseDuration(subscriptionPlanDuration)" (keydown.enter)="chooseDuration(subscriptionPlanDuration)" />
                </label>
                }
            </div>
        </div>
        <div class="grid grid-cols-[repeat(auto-fit,minmax(228px,1fr))] gap-2.5 px-4 py-3 @3xl:grid-cols-4">
            @for (subscriptionPlanData of subscriptionPlansData; track $index) {
            <div class="flex flex-1 flex-col gap-4 rounded-lg border border-solid border-[#dbe0e6] bg-white p-6">
                <div class="flex flex-col gap-1">
                    <h1 class="text-[#111418] text-base font-bold leading-tight">{{subscriptionPlanData.title}}</h1>
                    <p class="flex items-baseline gap-1 text-[#111418]">
                        <span
                            class="text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em]">${{subscriptionPlanData.amount}}</span>
                        <span
                            class="text-[#111418] text-base font-bold leading-tight">/{{subscriptionPlanData?.duration}}</span>
                    </p>
                </div>
                @for (feature of subscriptionPlanData.features; track $index) {
                <div class="flex flex-col gap-2">
                    <div class="text-[13px] font-normal leading-normal flex gap-3 text-[#111418]">
                        <div class="text-[#111418]" data-icon="Check" data-size="20px" data-weight="regular">
                            <i class="pi pi-check"></i>
                        </div>
                        <span>{{feature}}</span>
                    </div>
                </div>
                }
                <p-button styleClass="w-full cursor-pointer" label="Choose plan" [loading]="loadingStates[subscriptionPlanData.amount]"
                    (onClick)="buyRazorPay(subscriptionPlanData.amount)" />
            </div>
            }
        </div>
        <h3 class="text-[#0c151d] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Subscription
            Status</h3>
        <p class="text-[#0c151d] text-base font-normal leading-normal pb-3 pt-1 px-4">
            Your current subscription has ended on {{subscriptionEndDate}}. Please choose a new plan to continue using
            our
            services.
        </p>
    </div>
</div>